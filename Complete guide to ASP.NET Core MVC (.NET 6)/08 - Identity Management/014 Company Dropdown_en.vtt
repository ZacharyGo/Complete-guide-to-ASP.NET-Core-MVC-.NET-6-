WEBVTT

00:01.570 --> 00:09.330
Now we need to add a new property to the Espenak users, which is a company adding that company I.D.

00:09.340 --> 00:14.410
should only be populated if the rule is company and nothing else.

00:15.930 --> 00:20.010
So let me start the application and we will go to our models.

00:20.490 --> 00:25.950
Let's open up the application, user centric models, application user.

00:26.400 --> 00:27.030
Right here.

00:27.240 --> 00:30.840
We want to add a new property which will be completed.

00:31.770 --> 00:38.190
Now this company already will be an eligible property because it is possible that a user does not have

00:38.190 --> 00:44.370
a company only to use it with the roll up company will be assigned a particular company.

00:45.580 --> 00:51.760
And since we had a training company, it makes sense to add a foreign key with the mapping property

00:52.120 --> 00:52.720
company.

00:53.380 --> 01:00.760
I would also add here why it never because we do not want any validation on the navigation property.

01:01.830 --> 01:07.890
So once we add this, we will have to add immigration because we are changing some things in the table.

01:08.460 --> 01:11.640
A new column of company will be created.

01:12.630 --> 01:14.340
So let's add a migration.

01:19.780 --> 01:23.020
And let me take the command dead database.

01:24.450 --> 01:24.990
Perfect.

01:25.020 --> 01:25.830
That looks good.

01:26.220 --> 01:34.050
If we go to our table again for Espenak users and if they execute, oops, we need to do select star.

01:37.160 --> 01:42.620
This time, we should see a company I.D. and that is now part of the accounts right now.

01:43.550 --> 01:46.370
Next, what we want to do is on the register page.

01:46.640 --> 01:50.720
We want to display in a dropdown all the companies that are possible.

01:51.810 --> 01:57.000
So inside a registered base model, we already have unit of work for our company.

01:57.600 --> 02:02.010
So we just need to get a unit of work using dependency injection.

02:07.830 --> 02:08.370
Perfect.

02:08.400 --> 02:09.270
That looks good.

02:09.660 --> 02:12.960
Let's go down where we have the cat handler.

02:13.380 --> 02:17.640
We will have to add another dropdown, which will be for our company.

02:18.330 --> 02:22.430
So while it is never, this will be company the best.

02:23.430 --> 02:26.670
We will also need an integer to hold the company ID.

02:27.210 --> 02:31.020
So let's add that and inside the car and get handler.

02:31.320 --> 02:34.050
We will have to populate the company list.

02:35.160 --> 02:40.300
So this will be under scrutiny to find that company get all.

02:40.800 --> 02:48.420
And then we want to do the projection so I can just copy select that we have here based it one more

02:48.420 --> 02:48.810
time.

02:50.370 --> 02:54.960
What we want for the text is name of the company and value.

02:54.990 --> 03:02.820
We will keep the idea of the company convert that to string because we want the company ID as an integer,

03:03.180 --> 03:10.140
which will be the 18 because we have the company ID as the property with that change.

03:10.380 --> 03:13.950
Let's go to the registered view and we can copy this.

03:14.520 --> 03:16.230
Paste it one more time here.

03:17.040 --> 03:23.160
This time, the SB four will be for the company I.D. and SB items.

03:23.700 --> 03:25.560
Will the company last?

03:27.180 --> 03:32.010
We're going to disperse to come here and let's run the application.

03:35.380 --> 03:39.020
Let's click on Register Here and perfect.

03:39.330 --> 03:42.160
We see both the companies are populated.

03:43.240 --> 03:45.760
Let's continue in the next week, you.
